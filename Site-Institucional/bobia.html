<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="icon" href="./img/logoLaranja2.png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sensfit</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">

    <!--FONT AWESOME-->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
</head>

<!-- <body onload=" atualizarFeed()"> -->

<body>

    <div class="janela">
        <!-- HTML para plotar o resultado da chamada da IA -->
        <div id="container" style="width:30%; background-color: aqua; margin-top: 10%;">
            <center>
                <h1>BobIA</h1>
                <textarea id="pergunta" type="text" placeholder="Digite a pergunta..."></textarea>
                <br><br>
                <button onclick="gerarResposta()">Gerar Resposta</button>
                <h3>Resposta da IA:</h3>
                <div id="resposta"></div>
            </center>
        </div>

    </div>
    </div>


</body>

</html>

<script>


    // fazer a chamada do BobIA
    async function gerarResposta() {
        const pergunta = document.getElementById('pergunta').value;

        const response = await fetch('http://localhost:3333/perguntar', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ pergunta })
        });

        const data = await response.json();

        resposta.style.display = 'block';
        document.getElementById('resposta').innerText = data.resultado;
    }


</script>